<h1> Nota para atualização de dependências </h1>
<p>
  Este documento irá te auxiliar a fazer esta aula com a versão mais recente do Angular e suas dependências.
  Atualmente a versão mais recente do Angular é a 8.

</p>

<p>
  Observação: Este documento é apenas para os que querem usar as versões mais recentes das dependências contidas nesta aula. Ao longo do curso iremos atualizar as dependências, mas caso queira atualizar agora, use este documento como guia.
</p>


<h2> 1. Gerando o serviço </h2>

<p> Como mencionado anteriormente, nas novas versões para não criarmos o arquivo de testes, usamos o parâemtro --skipTests. </p>

<code>
$ ng g s cidade --skipTests
</code>

<h2> 2. Importando módulo HttpClient </h2>

<p> Utilizaremos o módulo HttpClient para realizarmos nossas requisições, pois o módulo Http já está depreciado desde a versão 4 do Angular. </p>
<p> Agora na versão 8, ele foi removido definitivamente, sendo substituído pelo módulo que iremos demonstrar agora. </p>

<p> No arquivo app.module.ts, iremos importar o HttpClientModule: </p>

[code lang="javascript"]
import { HttpClientModule } from '@angular/common/http';
[/code]

<p> E declaramos o mesmo no nosso array de imports: </p>

[code lang="javascript"]
imports: [
    BrowserModule,
    FormsModule,
    HttpClientModule
]
[/code]

<h2> 3. toPromise </h2>

<p> Como mostrado na aula, foi preciso importar o operador toPromise do rxjs. Com essa versão não é mais necessário</p>

<h2> 4. Retorno do HttpClient </h2>

<p> Usando o módulo Http, era necessário fazer o parse para json manualmente, para termos acesso ao corpo da resposta. </p>
<p> Com o HttpClient, isso não é mais necessário, pois ele já nos retorna o corpo em formato JSON. Precisamos então apenas realizar a chamada: </p>

[code lang="javascript"]
consultar(): Promise&#x3C;any&#x3E; {
    return this.http.get('http://localhost:3000/cidades')
      .toPromise();
}
[/code]

<p> Já no arquivo app.component.ts, teremos acesso direto a resposta: </p>

[code lang="javascript"]
this.cidadeService.consultar()
    .then(cidades => {
        this.cidades = cidades;
    });
[/code]
